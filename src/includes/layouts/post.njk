---
layout: layouts/base.njk
---

{% languageData %}

<article class="blog-post">
    <header class="post-header">
        {% if thumbnail %}
            <div class="post-thumbnail">
                <img src="{{ thumbnail }}" alt="{{ title }}">
            </div>
        {% endif %}

        <div class="post-meta">
            <time class="post-date">{{ page.date | date('YYYY-MM-DD') }}</time>
            <h1 class="post-title" data-string="title">{{ title }}</h1>
        </div>
    </header>

    <div class="post-content">
        {% for section in sections %}
            {% if section.type == "text" %}
                <div class="text-section" data-string="{{ section.key }}">{{ section.default }}</div>
                {% elif section.type == "heading" %}
                <h2 class="section-heading" data-string="{{ section.key }}">{{ section.default }}</h2>
                {% elif section.type == "subheading" %}
                <h3 class="section-subheading" data-string="{{ section.key }}">{{ section.default }}</h3>
                {% elif section.type == "image" %}
                <figure class="post-image">
                    <img src="{{ section.src }}" alt="{{ section.alt }}">
                    {% if section.caption %}
                        <figcaption data-string="{{ section.captionKey }}">{{ section.caption }}</figcaption>
                    {% endif %}
                </figure>
                {% elif section.type == "code" %}
                <pre><code class="language-{{ section.language }}">{{ section.content }}</code></pre>
                {% elif section.type == "list" %}
                <ul class="post-list">
                    {% for item in section.items %}
                        <li data-string="{{ item.key }}">{{ item.default }}</li>
                    {% endfor %}
                </ul>
                {% elif section.type == "html" %}
                {{ section.content | safe }}
            {% endif %}
        {% endfor %}
    </div>

    <footer class="post-footer">
        <a href="/blog/?lang={{ lang }}" class="back-button">
            <i class="fas fa-arrow-left"></i> <span data-string="backToBlog">Back to blog</span>
        </a>
    </footer>
</article>

<style>
    .blog-post {
        max-width: 800px;
        margin: 0 auto;
    }

    .post-header {
        margin-bottom: 2rem;
    }

    .post-thumbnail {
        width: 100%;
        height: 300px;
        overflow: hidden;
        border-radius: var(--border-radius);
        margin-bottom: 1.5rem;
    }

    .post-thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .post-meta {
        margin-bottom: 1rem;
    }

    .post-date {
        display: block;
        color: var(--color-text-secondary);
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
    }

    .post-title {
        font-size: 2rem;
        margin-bottom: 0.5rem;
        line-height: 1.2;
    }

    .post-content {
        line-height: 1.7;
        color: var(--color-text-primary);
    }

    .post-content p,
    .post-content ul,
    .post-content ol {
        margin-bottom: 1.5rem;
    }

    .post-content h2 {
        font-size: 1.5rem;
        margin: 2rem 0 1rem;
    }

    .post-content h3 {
        font-size: 1.2rem;
        margin: 1.5rem 0 0.75rem;
    }

    .post-content img {
        max-width: 100%;
        height: auto;
        border-radius: var(--border-radius);
        margin: 1.5rem 0;
    }

    .post-content a {
        color: var(--color-accent-primary);
        text-decoration: underline;
    }

    .post-content a:hover {
        color: var(--color-accent-secondary);
    }

    .post-content blockquote {
        border-left: 4px solid var(--color-accent-primary);
        padding-left: 1rem;
        font-style: italic;
        color: var(--color-text-secondary);
        margin: 1.5rem 0;
    }

    .post-content code {
        background: var(--color-background-alt);
        padding: 0.2rem 0.4rem;
        border-radius: 3px;
        font-family: var(--font-mono);
        font-size: 0.9em;
    }

    .post-content pre {
        background: var(--color-background-alt);
        padding: 1rem;
        border-radius: var(--border-radius);
        overflow-x: auto;
        margin: 1.5rem 0;
    }

    .post-content pre code {
        background: transparent;
        padding: 0;
    }

    .post-footer {
        margin-top: 3rem;
        padding-top: 1.5rem;
        border-top: 1px solid var(--color-background-alt);
    }

    .back-button {
        display: inline-flex;
        align-items: center;
        color: var(--color-accent-primary);
        font-weight: 500;
    }

    .back-button i {
        margin-right: 0.5rem;
    }

    @media (max-width: 768px) {
        .post-thumbnail {
            height: 200px;
        }

        .post-title {
            font-size: 1.75rem;
        }
    }
</style>